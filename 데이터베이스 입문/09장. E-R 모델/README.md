# 09장. E-R 모델

# 1. E-R 모델

## 1. E-R 모델과 E-R 다이어그램

- 현실 세계를 개체와 관계를 이용하여 개념 구조로 표현하는 대표적인 개념적 모델링 방법
- 개체-관계 모델(Entity-Relationship Model), E-R 모델
- E-R 다이어그램 : 개체(사각형), 관계(마름모), 개체나 관계의 속성 표현(타원), 링크(연결선)

  ![스크린샷 2024-02-19 오후 3.47.31.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/81ce352b-f505-4b7c-ba55-561d76267295/64e7e5d7-1c1f-46ad-8b31-9a7651802034/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-02-19_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.47.31.png)


## 2. 개체(Entity)

- 현실 세계에서 저장할 가치가 있는 데이터와 관련된 독립적 존재
- 다른 개체와 구별되는 고유한 개체 이름과 하나 이상의 속성으로 정의
- 개체 인스턴스(Entity Instance) : 실체화된 개체, 개체 어커런스
- 개체 집합(Entity Set) : 특정 개체의 개체 인스턴스를 모아놓은 그룹, 릴레이션 인스턴스
- 개체 타입(Entity Type) : 같은 속성을 갖는 개체 집합의 추상적 표현, 릴레이션 스키마

## 3. 속성(Attribute)

- 개체 또는 관계가 갖는 고유한 특성
- 스스로 존재할 수 없는 종속적 개념
- 개체나 관계와 연결되어 가장 작은 정보 단위로서 중요한 의미 표현

### 1. 단일 값 소성과 다중 값 속성

- 단일 값 속성(Single-Valued Attribute) : 특정 속성이 갖는 값이 하나, 실선 타원
- 다중 값 속성(Multivalued Attribute) : 개체가 갖는 속성 값이 여러 개, 이중 실선 타원

### 2. 단순 속성과 복합 속성

- 단순 속성(Simple Attribute) : 더 이상 분해할 수 없는 속성, 기본 속성
- 복합 속성(Composite Attribute) : 둘 이상의 속성으로 이루어져 더 작은 단위로 분해가 가능한 속성

### 3. 저장 속성과 유도 속성

- 저장 속성(Stored Attribute) : 실제 값을 저장하는 속성, 기본 속성
- 유도 속성(Derived Attribute) : 값을 저장하지 않아도 다른 속성 값에서 계산되거나 유도될 수 있는 속성

### 4. 키 속성(Key Attribute)

- 각 개체를 유일하게 식별할 수 있는 고유한 값을 갖는 속성

## 4. 관계(Relationship)

- 개체와 개체 사이에 맺어지는 연관성
- 저장 가치가 있는 데이터를 발생시키는 의미 있는 연관성 표현
- 관계성 : 관계 이름과 필요한 속성들로 정의
- 관계 집합 : 개체 집합과 개체 집합 사이에 실제로 맺어지는 모든 관계 인스턴스
- 관계 타입 : 개체 타입과 개체 타입 사이에 성립할 수 있는 모든 관계를 총체적으로 추상화하여 표현한 것

## 5. 관계의 유형

### 1. 분류 기준 1 : 관계 카디널리티(Relationship Cardinality)

- 관계를 맺는 두 개체 집합 간의 사상 형태 정의
- 두 개체 집합이 서로 관계를 맺을 때 각 개체 인스턴스에 사상되는 상대 개체 인스턴스의 개수가 기준
- 최대 사상 수 : 특정 개체와의 관계에 실제 참여하는 상대 개체의 수 중에서 최댓값
    - 일대일(1:1) : 두 개체가 서로 오직 하나의 개체와만 관계를 맺음
    - 일대다(1:N) : 한 개체는 여러 개체와 관계를 맺을 수 있지만 상대 개체는 많아야 하나의 개체와만 관계를 맺음
    - 다대일(N:1) : 한 개체는 최대 하나의 개체와 관계를 맺을 수 있지만 상대 개체는 여러 개체와 관계를 맺음
    - 다대다(M:N) : 두 개체가 서로 여러 개체와 관계를 맺음
- 최소 사상 수 : 특정 개체와의 관계에 실제 참여하는 상대 개체의 수 중에서 최소값
    - 최소값 1인 경우(전체 참여) : 개체가 적어도 하나 이상의 개체와 반드시 관계를 맺어야 함, 필수적 참여
    - 최소값 0인 경우(부분 참여) : 개체가 다른 개체와 관계를 맺을 수도 혹은 맺지 않을 수도 있다면 최소 사상 수 0, 선택적 참여

### 2. 분류 기준 2 : 관계 차수(Relation Degree)

- 관계에 참여하는 개체 수
- 1진 관계 : 개체가 자기 자신과 스스로 맺는 관계, 차수 1, 순환 관계
- 2진 관계 : 두 개의 개체가 서로 맺는 관계, 차수 2
- 3진 관계 : 3개의 개체가 함께 맺는 관계
- N진 관계 : 하나의 관계를 함께 맺는 개체의 개수가 N

### 3. 분류 기준 3 : 관계의 종속성

- 비식별 관계와 식별 관계
    - 비식별 관계(Non-Identifying Relationship) : 독립적인 두 개체가 관계를 맺을 때 대등한 관계를 맺는 것, 실선 마름모
    - 식별 관계Identifying Relationship) : 존재 종속인 두 개체 간의 관계, 이중 실선 마름모
- 일반화 관계(Generalization) : 개체 사이에 상하 관계를 가지는 것
    - 상위 개체(Supertype Entity) : 하위 개체들이 공통으로 갖는 속성 표현, 역삼각형 위 위치
    - 하위 개체(Subtype Entity) : 공통 속성 이외에 추가로 갖는 고유 속성만 표현, 역삼각형 아래 위치

# 2. E-R 다이어그램

## 1. E-R 다이어그램의 표기법 요약

- (강) 개체 : 고유한 키 속성을 갖는 개체
- 개체 : 키 속성을 갖지 못하는 개체
- (비식별) 관계 : 강 개체와 강 개체 사이의 대등한 관계
- 식별 관계 : 강 개체와 약 개체 사이의 종속적 관계
- (단일, 저장, 단순) 속성 : 의미적으로 분해되지 않는 값 하나를 저장하는 속성
- 키 속성 : 개체를 고유하게 구별짓는 속성
- 부분키 속성 : 키의 일부에 속할 수 있는 속성
- 다중 값 속성 : 값 여러 개를 가질 수 있는 속성
- 복합 속성 : 의미적으로 더 분해 가능한 속성
- 유도 속성 : 다른 속성들로부터 값을 유도 또는 계산 가능한 속성
- 전체참여 개체 : 관계에 빠짐없이 참여해야하는 개체
- 부분참여 개체 : 관계에 참여하지 않을 수도 있는 개체
- 일반화 관계 : 개념을 포함하는 상위 개체와 하위 개체와의 관계