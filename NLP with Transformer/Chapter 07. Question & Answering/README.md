# 1. 리뷰 기반 QA 시스템 구축하기

## 1. 데이터셋

- SubjQA
- 질문이 문법적으로 바르지 않음
- 빈 항목에는 리뷰에서 다을 찾지 못해 답변이 불가능한 질문이 존재함
- 시작 인덱스와 답변 길이를 사용해 리뷰에서 답변에 해당하는 텍스트 추출 가능

## 2. 텍스트에서 답 추출하기

- 지도 학습 문제로 구성
- QA 작업을 위해 텍스트를 토큰화하고 인코딩하기
- 모델의 최대 문맥 크기를 초과하는 긴 텍스트 다루기
- 범위 분류(span classification) : 답변 범위에 해당하는 시작 토큰과 종료 토큰 예측

## 3. 헤이스택을 사용해 QA 파이프라인 구축하기

- 리트리버 : 쿼리에서 관련된 문서 추출
    - 희소 리트리버 : 단어 빈도를 사용해 각 문서와 쿼리를 희소 벡터로 표현
    - 밀집 리트리버 : 트랜스포머와 같은 인코더를 사용해 쿼리와 문서를 문맥화된 임베딩으로 표현
- 리더 : 리트리버가 제공한 문서에서 답 추출
- 문서 저장소 : 쿼리 시점에 리트리버로 제공하는 문서와 메타데이터를 저장하는 문서 전용 데이터베이스
- 파이프라인 : 사용자 쿼리 구성 요소 결합 및 문서 결합

# 2. QA 파이프라인 개선하기

## 1. 리트리버 평가하기

- 재현율
- `eval()` 메서드 사용
- 리트리버 + 클래스 결합 사용자 정의 파이프라인 생성
- DPR(Dense Passage Retrieval) : 두 개의 BERT 모델 사용 → 질문과 구절 인코딩

## 2. 리더 평가하기

- EM(Exact Match)
- F1-Score

## 3. 도메인 적응

- 훈련 세트에서 미세 튜닝

## 4. 전체 QA 파이프라인 평가하기

- 리트리버-리더 평가
- 파이프라인 전체 평가

# 3. 추출적 QA를 넘어서

- 추상적 QA / 생성적 QA
- RAG(Retrieval-Augmented Generation)